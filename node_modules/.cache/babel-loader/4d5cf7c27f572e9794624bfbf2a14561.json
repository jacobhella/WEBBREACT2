{"ast":null,"code":"'use strict';\n\nvar path = require('path');\nvar loadJsonFile = require('load-json-file');\nvar normalizePackageData = require('normalize-package-data');\nvar pathType = require('path-type');\nmodule.exports = function (fp, opts) {\n  if (typeof fp !== 'string') {\n    opts = fp;\n    fp = '.';\n  }\n  opts = opts || {};\n  return pathType.dir(fp).then(function (isDir) {\n    if (isDir) {\n      fp = path.join(fp, 'package.json');\n    }\n    return loadJsonFile(fp);\n  }).then(function (x) {\n    if (opts.normalize !== false) {\n      normalizePackageData(x);\n    }\n    return x;\n  });\n};\nmodule.exports.sync = function (fp, opts) {\n  if (typeof fp !== 'string') {\n    opts = fp;\n    fp = '.';\n  }\n  opts = opts || {};\n  fp = pathType.dirSync(fp) ? path.join(fp, 'package.json') : fp;\n  var x = loadJsonFile.sync(fp);\n  if (opts.normalize !== false) {\n    normalizePackageData(x);\n  }\n  return x;\n};","map":null,"metadata":{},"sourceType":"script"}