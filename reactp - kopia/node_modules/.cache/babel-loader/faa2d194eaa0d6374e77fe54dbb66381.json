{"ast":null,"code":"/**\n * Copyright (c) 2017-present, Facebook, Inc. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n *\n */\n\n'use strict';\n\nvar _classCallCheck = require(\"C:\\\\Users\\\\legoj\\\\OneDrive\\\\Dokument\\\\Uni\\\\VT 2023\\\\Webbteknik\\\\hemsidan\\\\reactp\\\\myprojectapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\nvar _createClass = require(\"C:\\\\Users\\\\legoj\\\\OneDrive\\\\Dokument\\\\Uni\\\\VT 2023\\\\Webbteknik\\\\hemsidan\\\\reactp\\\\myprojectapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar _prettyFormat;\nfunction _load_prettyFormat() {\n  return _prettyFormat = _interopRequireDefault(require('pretty-format'));\n}\nvar _v;\nfunction _load_v() {\n  return _v = _interopRequireDefault(require('v8'));\n}\nvar _vm;\nfunction _load_vm() {\n  return _vm = _interopRequireDefault(require('vm'));\n}\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nexports.default = /*#__PURE__*/function () {\n  function _class(value) {\n    var _this = this;\n    _classCallCheck(this, _class);\n    if (this._isPrimitive(value)) {\n      throw new TypeError(['Primitives cannot leak memory.', 'You passed a ' + typeof value + ': <' + (0, (_prettyFormat || _load_prettyFormat()).default)(value) + '>'].join(' '));\n    }\n    var weak;\n    try {\n      // eslint-disable-next-line import/no-extraneous-dependencies\n      weak = require('weak');\n    } catch (err) {\n      if (!err || err.code !== 'MODULE_NOT_FOUND') {\n        throw err;\n      }\n      throw new Error('The leaking detection mechanism requires the \"weak\" package to be installed and work. ' + 'Please install it as a dependency on your main project');\n    }\n    weak(value, function () {\n      return _this._isReferenceBeingHeld = false;\n    });\n    this._isReferenceBeingHeld = true;\n\n    // Ensure value is not leaked by the closure created by the \"weak\" callback.\n    value = null;\n  }\n  _createClass(_class, [{\n    key: \"isLeaking\",\n    value: function isLeaking() {\n      this._runGarbageCollector();\n      return this._isReferenceBeingHeld;\n    }\n  }, {\n    key: \"_runGarbageCollector\",\n    value: function _runGarbageCollector() {\n      var isGarbageCollectorHidden = !global.gc;\n\n      // GC is usually hidden, so we have to expose it before running.\n      (_v || _load_v()).default.setFlagsFromString('--expose-gc');\n      (_vm || _load_vm()).default.runInNewContext('gc')();\n\n      // The GC was not initially exposed, so let's hide it again.\n      if (isGarbageCollectorHidden) {\n        (_v || _load_v()).default.setFlagsFromString('--no-expose-gc');\n      }\n    }\n  }, {\n    key: \"_isPrimitive\",\n    value: function _isPrimitive(value) {\n      return value !== Object(value);\n    }\n  }]);\n  return _class;\n}();","map":null,"metadata":{},"sourceType":"script"}