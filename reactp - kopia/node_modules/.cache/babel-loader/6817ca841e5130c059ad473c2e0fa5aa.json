{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"C:\\\\Users\\\\legoj\\\\OneDrive\\\\Dokument\\\\Uni\\\\VT 2023\\\\Webbteknik\\\\hemsidan\\\\reactp\\\\myprojectapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\nvar _createClass = require(\"C:\\\\Users\\\\legoj\\\\OneDrive\\\\Dokument\\\\Uni\\\\VT 2023\\\\Webbteknik\\\\hemsidan\\\\reactp\\\\myprojectapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\nvar _possibleConstructorReturn = require(\"C:\\\\Users\\\\legoj\\\\OneDrive\\\\Dokument\\\\Uni\\\\VT 2023\\\\Webbteknik\\\\hemsidan\\\\reactp\\\\myprojectapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/possibleConstructorReturn\");\nvar _getPrototypeOf = require(\"C:\\\\Users\\\\legoj\\\\OneDrive\\\\Dokument\\\\Uni\\\\VT 2023\\\\Webbteknik\\\\hemsidan\\\\reactp\\\\myprojectapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/getPrototypeOf\");\nvar _inherits = require(\"C:\\\\Users\\\\legoj\\\\OneDrive\\\\Dokument\\\\Uni\\\\VT 2023\\\\Webbteknik\\\\hemsidan\\\\reactp\\\\myprojectapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/inherits\");\nvar color = require('kleur');\nvar Prompt = require('./prompt');\nvar _require = require('sisteransi');\nvar cursor = _require.cursor;\nvar _require2 = require('../util');\nvar style = _require2.style,\n  clear = _require2.clear;\n\n/**\n * TextPrompt Base Element\n * @param {Object} opts Options\n * @param {String} opts.message Message\n * @param {String} [opts.style='default'] Render style\n * @param {String} [opts.initial] Default value\n */\nvar TextPrompt = /*#__PURE__*/function (_Prompt) {\n  _inherits(TextPrompt, _Prompt);\n  function TextPrompt() {\n    var _this;\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, TextPrompt);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TextPrompt).call(this, opts));\n    _this.transform = style.render(opts.style);\n    _this.scale = _this.transform.scale;\n    _this.msg = opts.message;\n    _this.initial = opts.initial || '';\n    _this.value = '';\n    _this.cursor = Number(!!_this.initial);\n    _this.clear = clear('');\n    _this.render();\n    return _this;\n  }\n  _createClass(TextPrompt, [{\n    key: \"reset\",\n    value: function reset() {\n      this.value = '';\n      this.fire();\n      this.render();\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      this.value = this.value || this.initial;\n      this.done = this.aborted = true;\n      this.fire();\n      this.render();\n      this.out.write('\\n');\n      this.close();\n    }\n  }, {\n    key: \"submit\",\n    value: function submit() {\n      this.value = this.value || this.initial;\n      this.done = true;\n      this.aborted = false;\n      this.fire();\n      this.render();\n      this.out.write('\\n');\n      this.close();\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      if (!this.placeholder) return this.bell();\n      this.value = this.initial;\n      this.cursor = this.rendered.length;\n      this.fire();\n      this.render();\n    }\n  }, {\n    key: \"moveCursor\",\n    value: function moveCursor(n) {\n      if (this.placeholder) return;\n      this.cursor = this.cursor + n;\n    }\n  }, {\n    key: \"_\",\n    value: function _(c, key) {\n      var s1 = this.value.slice(0, this.cursor);\n      var s2 = this.value.slice(this.cursor);\n      this.moveCursor(1);\n      this.value = \"\".concat(s1).concat(c).concat(s2);\n      if (this.placeholder) this.cursor = 0;\n      this.render();\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      if (this.value.length === 0) return this.bell();\n      var s1 = this.value.slice(0, this.cursor - 1);\n      var s2 = this.value.slice(this.cursor);\n      this.value = \"\".concat(s1).concat(s2);\n      this.moveCursor(-1);\n      this.render();\n    }\n  }, {\n    key: \"first\",\n    value: function first() {\n      this.cursor = 0;\n      this.render();\n    }\n  }, {\n    key: \"last\",\n    value: function last() {\n      this.cursor = this.value.length;\n      this.render();\n    }\n  }, {\n    key: \"left\",\n    value: function left() {\n      if (this.cursor <= 0 || this.placeholder) return this.bell();\n      this.moveCursor(-1);\n      this.render();\n    }\n  }, {\n    key: \"right\",\n    value: function right() {\n      if (this.cursor * this.scale >= this.rendered.length || this.placeholder) return this.bell();\n      this.moveCursor(1);\n      this.render();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var prompt = [style.symbol(this.done, this.aborted), color.bold(this.msg), style.delimiter(this.done), this.rendered].join(' ');\n      this.out.write(this.clear + prompt);\n      this.out.write(cursor.move(this.placeholder ? -this.initial.length * this.scale : -this.rendered.length + this.cursor * this.scale));\n      this.clear = clear(prompt);\n    }\n  }, {\n    key: \"value\",\n    set: function set(v) {\n      if (!v && this.initial) {\n        this.placeholder = true;\n        this.rendered = color.gray(this.transform.render(this.initial));\n      } else {\n        this.placeholder = false;\n        this.rendered = this.transform.render(v);\n      }\n      this._value = v;\n      this.fire();\n    },\n    get: function get() {\n      return this._value;\n    }\n  }]);\n  return TextPrompt;\n}(Prompt);\nmodule.exports = TextPrompt;","map":null,"metadata":{},"sourceType":"script"}